# API сервера аутентификации
- --
## Описание
Часть сервера аутентификации, основная задача которой:
* выдавать новые токены
* обновлять существующие\
*Используемые технологии: Golang, Postgres*
- --
## Запуск
Перед запуском создайте в корневой папке файл `.env` со следующими переменными (пример):
* DBPORT=Порт БД
* DBUSER=Логин к БД
* DBPASS=Пароль к БД
* DBHOST=Хост БД
* DBNAME=Название БД
* SECRET="секретный ключ JWT"

По умолчанию (если у вас нет своей БД), подставьте следующие значения:
* DBPORT=5433
* DBHOST=host.docker.internal

Запустите сборку контейнеров:
```bash
docker-compose up -d
```
Первый запуск автоматически создаст таблицы в базе данных.

- --

## Использование
У API есть два основных маршрута:
* /api/login - Выдача токенов по GUID
* /api/refresh - Обновление токенов

_Контекст для первого маршрута:_
```json
{
  "guid": "ваш GUID"
}
```
_Контекст для второго маршрута:_
```json
{
  "refresh_token": "ваш refresh-токен"
}
```
Кроме этого второй маршрут обязательно должен содержать в заголовках JWT аутентификацию (токен Bearer) для которого используется Access токен.
